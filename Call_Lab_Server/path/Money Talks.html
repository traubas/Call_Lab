<html>
	<head>
		<meta charset="utf-8">
  		<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<style type="text/css">
			h1 {
				color: red;
			}
			h2 {
				color: green;
			}
			.nav-primary {
				width: 80%;
				padding:5px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.2) inset;
				-webkit-border-radius: 4px;
				border: 1px solid #666;
			}
			#clozeTitle {

    			
			}
			#clozeData {
			}
			#workingArea {
				border: 1px solid red;
				width:100%;
				display:block;
			}
			#cancel {
				visibility: hidden;
			}

			#corrAns {
				width: 20px;
			}

			.modal {
			    display: none; /* Hidden by default */
			    position: fixed; /* Stay in place */
			    z-index: 1; /* Sit on top */
			    padding-top: 100px; /* Location of the box */
			    top: 0;
				left: 0;
			    width: 100%; /* Full width */
			    height: 100%; /* Full height */
			    overflow: auto; /* Enable scroll if needed */
			    background-color: rgb(0,0,0); /* Fallback color */
			    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
			}

			/* Modal Content */
			.modal-content {
			    background-color: yellow;
			    position: absolute;
			    top:50%;
			    left: 8%;
			    margin: auto;
			    padding: 20px;
			    border: ridge 7px;
			    width: 80%;
			    font-weight: bold;
			}

			/* The Close Button */
			.close {
			    color: #aaaaaa;
			    float: right;
			    font-size: 28px;
			    font-weight: bold;
			}

			.close:hover,
			.close:focus {
			    color: #000;
			    text-decoration: none;
			    cursor: pointer;
			}

			.correct {
				color: green;
				font-weight: bold;
			}
			.check {
				background-color: #ffceec;
				padding:4px;
			}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script>
			var numberOfQuestions = 8;
			var Feedbacks = new Array(50);
			var CorrectAnswers = new Array(50);
			var answered_grade=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
			var number_try=    new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)
			var checkingAll = false;
			var notAllCorrect = false;
			$(document).ready(function() {
				Feedbacks = [["Perfect! You need a possessive pronoun here.","They’re is a shortened form of they are, but do we need a verb here? In this sentence we need a possessive pronoun, belonging to the same group as my, his, her, etc.","There is an adverb having many meanings. Most often it is used to say that something exists or happens (There is a good library in this school) or to point to a position in space (He spent a week there.) In this sentence we need a possessive pronoun, belonging to the same group as my, his, her, etc.",null],["Great! After the verb to be we use adjectives, e.g., I am happy; she is tired, they are wrong. Adverbs can be used but only if they modify adjectives that follow, e.g., I am extremely tired.","Adverbs are not used after the verb to be, unless they modify adjectives that follow, e.g., I am extremely tired. .",null],["Note that the previous sentence is in the past and this sentence begins with “And then…”. So is it correct to switch over from the Past Simple to the Present Perfect?","Excellent!","You have two mistakes here. First, the verb is wrong. When we perform an activity or carry out a task we us the verb do, e.g., to do cleaning, to do computations. The tense is also wrong. The previous sentence is in the past and this sentence begins with “And then…” So is it correct to switch over from the Past Simple to the Present Perfect?","You have chosen the right tense but the wrong verb. When we perform an activity or carry out a task we us the verb to do, e.g., to do cleaning, to do computations, and so on. ",null],["Note that in the main clause the form of the verb is would encounter. Is it a Real or a Hypothetical Conditional?","Note that in the main clause the form of the verb is would encounter. Is it an Unreal or a Hypothetical Conditional?","Very good!  This is a hypothetical condition, so after if we use verbs in the Past Simple.",null],["Correct.","Remember that after pronouns every and each we use nouns in the singular.",null],["On is used before days of the week and dates (e.g., on Monday, on the 21st of June.)What preposition is used before names of the months and years?","At is used in telling the time (e.g., at 5 p.m., at 7 :30.) What preposition is used before names of the months and years?","Right.",null],["A Note that the verb in the main clause is in the past (This prompted…), so we have to use the rule of “sequence of tenses”, looking into the future from the position of the past.  ","Very good!",null],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];
				CorrectAnswers = ["1","1","2","3","1","3","2",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];
			});	
			
function checkOneAnswer(qnumber) {
number_try[qnumber-1]=number_try[qnumber-1]+1;
	var answer = $("#s"+qnumber).prop('selectedIndex');
	if (answer==null)
		return;
	if (answer==0) {
		if (!checkingAll)
			showFeedback("You must choose an answer",300,300,400,200,0);
		notAllCorrect = true;
	}
	else if (answer==CorrectAnswers[qnumber-1]){
		if (!checkingAll)
			showFeedback(Feedbacks[qnumber-1][answer-1],300,300,400,200,1);
		var answer = $("#s"+qnumber+ " option:selected").text();
		$('<span class="correct">'+answer+'</span>').insertAfter("#check"+qnumber);
		$("#check"+qnumber).remove();
		$("#s"+qnumber).remove();
		if (number_try[qnumber-1]>Feedbacks[qnumber-1]) {
			number_try[qnumber-1]=1/(Feedback[qnumber-1]-1);
		}
		answered_grade[qnumber-1]=(Feedbacks[qnumber-1].length-number_try[qnumber-1])/(Feedbacks[qnumber-1].length-1);
	}
	else {
		if (!checkingAll)
			showFeedback(Feedbacks[qnumber-1][answer-1],300,300,400,200,0);
		notAllCorrect = true;
	}

}

function grade(msg,flag) {
	var gr_per_question=100/(numberOfQuestions-1);
	var grade=0;
	for (i=0;i<numberOfQuestions;i++) {
		grade=grade+gr_per_question*answered_grade[i];
	}
	showFeedback(msg+"<BR>"+"Your grade is: "+Math.round(grade)+"%",300,300,300,300,flag);
}

function showFeedback(feedback,position1,position2,size1,size2,flag)
{
	var modal = document.getElementById('myModal');
	var span = document.getElementsByClassName("close")[0];
	modal.style.display = "block";
	fb = document.getElementById('feedback_content');
	feedback_content.innerHTML=
	"<br><center><table cellpadding=15><tr><td>"+feedback+"</tr></td></table></center><br>";
	if (flag==1) {
		$(".modal-content").css({'background-color': 'green'});
	}
	else
		$(".modal-content").css({'background-color': 'yellow'});
	// When the user clicks on <span> (x), close the modal
	span.onclick = function() {
	    modal.style.display = "none";
	}

	// When the user clicks anywhere outside of the modal, close it
	window.onclick = function(event) {
	    if (event.target == modal) {
	        modal.style.display = "none";
	    }
	}
}

function checkAll() {

	checkingAll = true;
	for (i=0;i<numberOfQuestions-1;i++) {

		checkOneAnswer(i+1);
	}
	checkingAll=false;
	if (notAllCorrect) {
		var msg = "Some of your answers are not correct. Try again.";
		grade(msg,0);
	}
	else {
		var msg = "Good job. You finished this exercise!";
		grade(msg,1);
	}
	
	notAllCorrect = false;
}

		</script>	
	</head>
	<body>
		<center><h1><div id="clozeTitle">Money Talks</div></h1><BR></center>
		<center><div id="clozeData" class="nav-primary">
			<span>Can money be used to spread messages? At first Alexei Navalny, a Russian opposition activist and noted blogger, was <select id="s2"><option></option><option>sceptical</option><option>sceptically</option></select> <button type="button" id="check2" class="check" onclick="checkOneAnswer(2)"><i class="glyphicon glyphicon-search"></i></button> . But then he <select id="s3"><option></option><option>has done</option><option>did</option><option>has made</option><option>made</option></select> <button type="button" id="check3" class="check" onclick="checkOneAnswer(3)"><i class="glyphicon glyphicon-search"></i></button>  the maths: if 5,000 Russians <select id="s4"><option></option><option>stamp</option><option>will stamp</option><option>stamped</option></select> <button type="button" id="check4" class="check" onclick="checkOneAnswer(4)"><i class="glyphicon glyphicon-search"></i></button>  100 bills each, every <select id="s5"><option></option><option>citizen</option><option>citizens</option></select> <button type="button" id="check5" class="check" onclick="checkOneAnswer(5)"><i class="glyphicon glyphicon-search"></i></button>  would encounter at least one of the altered notes as they passed from person to person.
Members of Iran’s Green Movement used this tactic <select id="s6"><option></option><option>on</option><option>at</option><option>in</option></select> <button type="button" id="check6" class="check" onclick="checkOneAnswer(6)"><i class="glyphicon glyphicon-search"></i></button>  2009, writing slogans on banknotes during <select id="s1"><option></option><option>their</option><option>they’re</option><option>there</option></select> <button type="button" id="check1" class="check" onclick="checkOneAnswer(1)"><i class="glyphicon glyphicon-search"></i></button>  anti-government protests. This prompted (7. a0 – ba – cthe) ruling that defaced notes <select id="s7"><option></option><option>will</option><option>would</option></select> <button type="button" id="check7" class="check" onclick="checkOneAnswer(7)"><i class="glyphicon glyphicon-search"></i></button>  no longer be accepted by banks. (9. aHowever - bConsequently – cSimilarly – dPresumably), supporters of the Occupy movement protesting against social and (10. aeconomic – beconomical – ceconomically) inequality have added slogans and infographics about income inequality (11. aon – bat – cto) dollar bills. And members of China’s Falun Gong movement wrote messages on banknotes (12. aattacking –battacked) government persecution.
(13. a0 – bA – cThe) use of money as a communications (14. amedium – bmedia), distributing words  and images as it passes from hand to hand, is ancient. The earliest coins, (15. aminting – bminted) in Lydia (now part of Turkey) in the 7th century BC, (16. ahave depicted – bdepicted – chad depicted) the head of a lion, thought to have been a royal symbol. Later rulers had their names and images (17. adescribed – binscribed – cprescribed – dsubscribed) on coins, along with symbolic images of (18. avariety – bvariable – cvarious) kinds. In the era before printing, this was a very (19. aefficient – befficiently – caffective) way to project their image directly to the people.
But their subjects were also aware (20. aof – bto – cfrom) the messaging power of money, (21. alike – bas) the exhibit (22. aof – bon – cfor) the history of money at the British Museum in London reveals. It (23. ainvolves –bincludes - cconsists) a Roman coin from 215AD, on which the Christian “chi-rho” symbol has been scratched behind the (24. aemperors - bemperor’s – cemperors’) head; a French coin from 1855 overstamped with an advertisement (25. afrom – bon – cfor) Pears Soap; and a 1903 British penny on which Edward VII’s face has been stamped with “Votes for women” (26. aby - bwith) suffragettes. Mr. Navalny’s call for Russians to stamp messages on banknotes was just (27. aanother – bother – cthe other) incarnation of a centuries-old idea—a pioneering example of (28. that – which – what) we now call social media. </span>
		</div>
		<button type="button" id="checlAllButton" onclick="checkAll()">Check All Answers</button></center>
		<!-- The Modal -->
		<div id="myModal" class="modal">

		  <!-- Modal content -->
		  <div class="modal-content">
		    <span class="close">&times;</span>
		    <p id="feedback_content">
		    	
		    </div>
		  </div>

		</div>
	</body>
</html>


